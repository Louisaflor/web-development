<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title> DISCO SQUARE </title>
        <style>
            main {width: 50%; margin: 0 auto; border: black solid; padding: 10px ;}
            #buttons {margin: auto;  padding: 10px; text-align: center;}
            canvas {border: 1px dashed black; margin: 0 auto; display: block; padding: 10px;  }

        </style>
    </head>

    <body>
        <main>
            <div id="buttons">
            <button id="discoStart">Start the Show!</button>
            <button id="discoStop">Stop the Show!</button>
            </div>

            <canvas id="whiteBoard" width="400px" height="400px"></canvas>

            <p id="placeTheColorName"></p>
        </main>

        <script>

            var notRunning = true //prevents from bugging when pressing the start button

        //apparently you can grab this code online, this is to get random colors using the hex
        function getRandomColor() {
                var letters = '0123456789ABCDEF'.split('');
                var color = '#';
                for (var i = 0; i < 6; i++ ) {
                    color += letters[Math.floor(Math.random() * 16)];
                }
                return color;
            }

            //function that creates random lines 

        function discoSquare() {

            var canvas = document.getElementById("whiteBoard");
            var context = canvas.getContext("2d")

            //setting the vertical position for all lines to be random, needs to be in between 1 and 399
            var verticalPos = Math.floor((Math.random() * 399) + 1)
            // storing function in a var 
            var randomColor = getRandomColor();

            //setting width and color for all lines 
            context.lineWidth = 10; //how thick you want the line
            context.strokeStyle = randomColor; // color of the lines

            //making the line
            context.moveTo(10, verticalPos); //left-right, up-down: start of line
            context.lineTo(400, verticalPos); //end of line
            context.lineCap = "butt";
            context.stroke(); //connecting the moveTo and lineTo 
            console.log("vertical position: " + verticalPos);

            document.getElementById("placeTheColorName").innerHTML = randomColor;

        }

        var animation; //global variables: placed this outside of function so that we may use this on any function
        
        //when pressing the start button it will activate the discoSquare function

        document.getElementById("discoStart").onclick = function() {

            if (notRunning) {
                animation = setInterval (discoSquare, 100);
                notRunning = false;
            } else {
                alert("Don't click, still running")
            }
        }

        document.getElementById("discoStop").onclick = function() {
            clearInterval(animation); //stops the interval 
            notRunning = true;
        }
        
        


        </script>

    </body>

</html>